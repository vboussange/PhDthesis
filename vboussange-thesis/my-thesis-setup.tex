% !TEX root = my-thesis.tex


% **************************************************
% Files' Character Encoding
% **************************************************
\PassOptionsToPackage{utf8}{inputenc}
\usepackage{inputenc}


% **************************************************
% Information and Commands for Reuse
% **************************************************
\newcommand{\thesisTitle}{{\color{ctcolortitle} Eco-evolutionary processes in ecological and economic systems} \\
{\small Confronting dynamical models and data}}
\newcommand{\thesisName}{Victor Boussange}
% \newcommand{\thesisSubject}{Documentation}
\newcommand{\thesisDate}{\today}
\newcommand{\thesisVersion}{0.0.1}

\newcommand{\thesisFirstReviewer}{Didier Sornette}
\newcommand{\thesisFirstReviewerUniversity}{\protect{ETH Zürich}}
\newcommand{\thesisFirstReviewerDepartment}{Department of Enviromental Sciences}

\newcommand{\thesisSecondReviewer}{Samir Suweis}
\newcommand{\thesisSecondReviewerUniversity}{\protect{University of Padova}}
\newcommand{\thesisSecondReviewerDepartment}{Physics and Astronomoy Department}

\newcommand{\thesisThirdReviewer}{Arnulf Jentzen}
\newcommand{\thesisThirdReviewerUniversity}{\protect{University of Münster}}
\newcommand{\thesisThirdReviewerDepartment}{Institute for Analysis and Numerics}

\newcommand{\thesisFirstSupervisor}{Loïc Pellissier}
% \newcommand{\thesisSecondSupervisor}{John Smith}

\newcommand{\thesisUniversity}{\protect{ETH Zürich}}
\newcommand{\thesisUniversityDepartment}{Department of Environemtal Sciences}
\newcommand{\thesisUniversityInstitute}{Institute of Terrestrial Ecosystems}
\newcommand{\thesisUniversityGroup}{Ecology Landscape and Evolution}
\newcommand{\thesisUniversityCity}{Zürich}
\newcommand{\thesisUniversityStreetAddress}{Universitätstrasse 18}
\newcommand{\thesisUniversityPostalCode}{8055}


% **************************************************
% Debug LaTeX Information
% **************************************************
%\listfiles


% **************************************************
% Load and Configure Packages
% **************************************************
\usepackage[english]{babel} % babel system, adjust the language of the content
\PassOptionsToPackage{% setup clean thesis style
    figuresep=colon,%
    hangfigurecaption=false,%
    hangsection=true,%
    hangsubsection=true,%
    sansserif=false,%
    configurelistings=true,%
    colorize=full,%
    colortheme=bluemagenta,%
    configurebiblatex=false,%
    % bibsys=biber,%
    % bibfile=bib-refs,%
    % bibstyle=alphabetic,%
    % bibsorting=nty,%
}{cleanthesis_vb}
\usepackage{../cleanthesis_vb}

\hypersetup{% setup the hyperref-package options
    pdftitle={\thesisTitle},    %   - title (PDF meta)
    % pdfsubject={\thesisSubject},%   - subject (PDF meta)
    pdfauthor={\thesisName},    %   - author (PDF meta)
    plainpages=false,           %   -
    colorlinks=false,           %   - colorize links?
    pdfborder={0 0 0},          %   -
    breaklinks=true,            %   - allow line break inside links
    bookmarksnumbered=true,     %
    bookmarksopen=true          %
}
% **************************************************
% bibliography (used at the end of each chapter)
% **************************************************
\usepackage[backend=bibtex,
    bibencoding=utf8,
    % refsegment=chapter,
    style=numeric, 
    firstinits=true,
    isbn=false,
    doi=true,
    url=false,
    clearlang=true,
    defernumbers=true,
]{biblatex}
\addbibresource{./content/part_I/diff_in_graphs/bib.bib}
\addbibresource{./content/part_II/NonLocalPDE/bibfile.bib}

% **************************************************
% Other Packages
% **************************************************
\usepackage{scrhack}
\usepackage{ETHthesis}
\usepackage{outlines}
% for maths
\usepackage{amsmath,amssymb,euscript}
\usepackage{bbm}
\usepackage{nicefrac}
\usepackage[capitalise]{cleveref}
\usepackage{placeins}                       % for float barrier
\usepackage{appendix}                       % for subappendices
\usepackage[inline,shortlabels]{enumitem}
\usepackage{todonotes}

% **************************************************
% differnetiation in graphs
% **************************************************


% shortcuts
\newcommand{\Co}{\mathcal{C}}
\newcommand{\Cov}{\mbox{Cov}}
\newcommand{\adh}{\mbox{adh}}
\newcommand{\supp}{\mbox{supp}}
\newcommand{\rr}{\mathfrak{r}}
%
\def\D{\mathbb{D}}
\def\Q{\mathbb{Q}}
\def\Z{\mathbb{Z}}
\def\N{\mathbb{N}}
\def\P{\mathbb{P}}
\def\R{\mathbb{R}}
\def\E{\mathbb{E}}
\def\U{\mathcal{U}}
\def\dSk{\mathbf{d}_{\mbox{{\scriptsize Sk}}}}
\def\ind{{\mathchoice {\rm 1\mskip-4mu l} {\rm 1\mskip-4mu l}
{\rm 1\mskip-4.5mu l} {\rm 1\mskip-5mu l}}}
\def\eg{\textit{e.g.} }
\def\ie{\textit{i.e.} }
\def\rv{\textit{r.v.} }
\def\etal{\textit{et al.} }

\usepackage{sidecap}
\usepackage{mathtools}
\usepackage[most]{tcolorbox}
\newcommand\rcirc{{\color{red}\bullet}\mathllap{\color{red}\circ}}
\newcommand\bcirc{{\color{blue}\bullet}\mathllap{\color{blue}\circ}}
\newcommand{\normf}[1]{ \langle #1 \rangle }
\usepackage{booktabs} % To thicken table lines
\usepackage{hhline} % To cut out corners in tables
\def\l{\langle l \rangle} % average path length
\usepackage{blindtext}
\graphicspath{{assets/}}
\usepackage{subfiles} % Best loaded last in the preamble
% \AtBeginEnvironment{appendices}{\crefalias{section}{Supplementary methods}}
\usepackage{nameref}
% \AtBeginEnvironment{appendices}{\crefalias{equation}{SI Equation}}
% \AtBeginEnvironment{appendices}{\crefalias{section}{SI Equation}}
\usepackage{chngcntr}

% **************************************************
% nonLocalPDE 
% **************************************************
% for intro
\providecommand{\W}{{\ensuremath{\mathbb{W}}}}
\newcommand{\NN}{{\ensuremath{N\!N}}}

% for the following
\usepackage{mathrsfs,amsthm}
% \usepackage[]{enumitem}
% TODO: there might be conflicts with \def and \newcommand above
%%%% TIKZ for neural network
% ARNULF architecture
\usepackage{tikz}
\usetikzlibrary{matrix,chains,positioning,decorations.pathreplacing,arrows}
\usetikzlibrary{shapes,arrows}
\tikzset{
  font={\fontsize{9pt}{12}\selectfont}}
\usepackage{adjustbox}
\def\layersep{3cm}

%https://tex.stackexchange.com/questions/153957/drawing-neural-network-with-tikz
\usepackage{etoolbox} % for \ifnumcomp
\usepackage{listofitems} % for \readlist to create arrays
\tikzset{>=latex} % for LaTeX arrow head
\colorlet{myred}{red!80!black}
\colorlet{myblue}{blue!80!black}
\colorlet{mygreen}{green!60!black}
\colorlet{mydarkred}{myred!40!black}
\colorlet{mydarkblue}{myblue!40!black}
\colorlet{mydarkgreen}{mygreen!40!black}
\tikzstyle{node}=[very thick,circle,draw=myblue,minimum size=22,inner sep=0.5,outer sep=0.6]
\tikzstyle{connect}=[->,thick,mydarkblue,shorten >=1]
\tikzset{ % node styles, numbered for easy mapping with \nstyle
  node 1/.style={node,mydarkgreen,draw=mygreen,fill=mygreen!25},
  node 2/.style={node,mydarkblue,draw=myblue,fill=myblue!20},
  node 3/.style={node,mydarkred,draw=myred,fill=myred!20},
}
\def\nstyle{int(\lay<\Nnodlen?min(2,\lay):3)} % map layer number onto 1, 2, or 3

%%%%%%%%%%%%%%%%%%%%%%
%%%% JULIA STYLE %%%%%
%%%%%%%%%%%%%%%%%%%%%%
% taken from https://github.com/m3g/jlcode_example/blob/master/example.tex

% Code blocks definitions: Julia style
% Using https://github.com/wg030/jlcode
% Download the jlcode.sty from that repository 

%% table
\usepackage{multirow, makecell}

%%%% EDITING
\usepackage{soul,color}

\newtheorem{lemma}{Lemma}[section]
\newtheorem{remark}[lemma]{Remark}
\newtheorem{proposition}[lemma]{Proposition}
\newtheorem{theorem}[lemma]{Theorem}
\newtheorem{example}[lemma]{Example}
\newtheorem{definition}[lemma]{Definition}
\newtheorem{prop}[lemma]{Proposition}
\newtheorem{corollary}[lemma]{Corollary}
\newtheorem{assumption}[lemma]{Assumption}
\newtheorem{algo}[lemma]{Framework}
\newtheorem{setting}[lemma]{Setting}

\newcommand{\Hess}{\ensuremath{\operatorname{Hess}}}
\newcommand{\Trace}{\ensuremath{\operatorname{Trace}}}
\newcommand{\cost}{\ensuremath{\operatorname{Cost}}}
\newcommand{\uniform}{\ensuremath{\mathcal{R}}}
\newcommand{\sign}{\ensuremath{\operatorname{sign}}}
\newcommand{\smallsum}{\textstyle\sum}
\DeclareMathOperator*{\smallsuml}{\textstyle\sum}
\DeclareMathOperator*{\smallprodl}{\textstyle\prod}
\providecommand{\one}{{\ensuremath{\mathbbm{1}}}}
\providecommand{\N}{{\ensuremath{\mathbb{N}}}}
\providecommand{\Z}{{\ensuremath{\mathbb{Z}}}}
\providecommand{\R}{{\ensuremath{\mathbb{R}}}}
\providecommand{\B}{\mathcal{B}}
\providecommand{\C}{\mathbb{C}}
\renewcommand{\P}{\mathbbm{P}}
\providecommand{\bG}{\mathbb{G}}
\providecommand{\bS}{\mathbb{S}}
\providecommand{\cR}{\mathcal{R}}
\renewcommand{\S}{\mathcal{S}}
\providecommand{\sS}{S}
\providecommand{\D}{D}
\providecommand{\dD}{\mathbbm{D}}
\providecommand{\E}{{\ensuremath{\mathbbm{E}}}}
\newcommand{\Var}{{\ensuremath{\operatorname{Var}}}}
\providecommand{\N}{{\ensuremath{\mathbbm{N}}}}
\providecommand{\bV}{{\ensuremath{\mathbb{V}}}}
\providecommand{\bX}{{\ensuremath{\mathbbm{X}}}}
\providecommand{\Z}{{\ensuremath{\mathbbm{Z}}}}
\providecommand{\R}{{\ensuremath{\mathbbm{R}}}}
\providecommand{\C}{\mathbbm{C}}
\providecommand{\Q}{{\ensuremath{\mathbbm{Q}}}}
\providecommand{\E}{{\ensuremath{\mathbb{E}}}}
\newcommand{\F}{{\ensuremath{\mathcal{F}}}}
\newcommand{\bF}{{\ensuremath{\mathbb{F}}}}
\newcommand{\Lip}{{\ensuremath{\operatorname{Lip}}}}
\newcommand{\funcF}{F}
\newcommand{\LipConst}{L}
\newcommand{\cL}{{\ensuremath{\mathcal{L}}}}
\newcommand{\cN}{{\ensuremath{\mathcal{N}}}}
% \newcommand{\G}{{\ensuremath{\mathcal{G}}}}
\newcommand{\A}{{\ensuremath{\mathcal{A}}}}
% \newcommand{\U}{{\ensuremath{\mathcal{U}}}}
\newcommand{\V}{{\ensuremath{\mathcal{V}}}}
\newcommand{\X}{{\ensuremath{\mathcal{X}}}}
\newcommand{\Y}{{\ensuremath{\mathcal{Y}}}}
\newcommand{\cZ}{{\ensuremath{\mathcal{Z}}}}
% \newcommand{\norm}[1]{ \left\| #1 \right\| }
\newcommand{\Zz}{{\ensuremath{Z}}}
\newcommand{\Rr}{{\ensuremath{\mathcal{V}}}}
\renewcommand{\d}{ \mathrm{d}}
\newcommand{\diff}{\mathrm{d}}


\newcommand{\bcup}{\bigcup}

\newcommand{\Borel}{\mathcal{B}}

\newenvironment{approxtabular}{
	\tabular{|r|c|c|c|c|c|c|c|c|}
		\hline
		\multirowcell{4}{$d$}
		& \multirowcell{4}{$T$}
		& \multirowcell{4}{$N$}
		& \multirowcell{4}{Mean\\ of the\\ approx.\\ method } 
		& \multirowcell{4}{Standard\\ deviation of \\ the approx.\\ method } 
		& \multirowcell{4}{Reference \\ value } 
		& \multirowcell{4}{Relative\\$L^1$-approx.\\ error } 
		& \multirowcell{4}{Standard\\ deviation \\ of the \\ error } 
		& \multirowcell{4}{Average\\ runtime \\ in \\ seconds } \\
		&&&&&&&&\\
		&&&&&&&&\\
		&&&&&&&&\\
		\hline
}{
	\hline
	\endtabular
}


% DELIMITERS

\usepackage{mathtools}

\DeclarePairedDelimiter{\pr}()
\DeclarePairedDelimiter{\br}[]
\DeclarePairedDelimiter{\cu}\{\}
\DeclarePairedDelimiter{\abs}\lvert\rvert
\DeclarePairedDelimiter{\norm}\lVert\rVert
\DeclarePairedDelimiter{\ang}\langle\rangle

\newcommand{\bpr}[1]{\pr[\big]{#1}}
\newcommand{\bbpr}[1]{\pr[\Big]{#1}}
\newcommand{\bbbpr}[1]{\pr[\bigg]{#1}}
\newcommand{\bbbbpr}[1]{\pr[\Bigg]{#1}}
\newcommand{\bbr}[1]{\br[\big]{#1}}
\newcommand{\bbbr}[1]{\br[\Big]{#1}}
\newcommand{\bbbbr}[1]{\br[\bigg]{#1}}
\newcommand{\bbbbbr}[1]{\br[\Bigg]{#1}}
\newcommand{\bcu}[1]{\cu[\big]{#1}}
\newcommand{\bbcu}[1]{\cu[\Big]{#1}}
\newcommand{\bbbcu}[1]{\cu[\bigg]{#1}}
\newcommand{\bbbbcu}[1]{\cu[\Bigg]{#1}}
\newcommand{\babs}[1]{\abs[\big]{#1}}
\newcommand{\bbabs}[1]{\abs[\Big]{#1}}
\newcommand{\bbbabs}[1]{\abs[\bigg]{#1}}
\newcommand{\bbbbabs}[1]{\abs[\Bigg]{#1}}
\newcommand{\bnorm}[1]{\norm[\big]{#1}}
\newcommand{\bbnorm}[1]{\norm[\Big]{#1}}
\newcommand{\bbbnorm}[1]{\norm[\bigg]{#1}}
\newcommand{\bbbbnorm}[1]{\norm[\Bigg]{#1}}
\newcommand{\bang}[1]{\ang[\big]{#1}}
\newcommand{\bbang}[1]{\ang[\Big]{#1}}
\newcommand{\bbbang}[1]{\ang[\bigg]{#1}}
\newcommand{\bbbbang}[1]{\ang[\Bigg]{#1}}